---
- summary: |
    Главная страница. Проверка подключения пользователя к баттлу без регистрации 
  requirement: |
    Любой пользователь должен иметь возможность подключиться к игре без регистрации
  prerequisites: |
    Открыта главная страница сайта https://codebattle.hexlet.io/
  test-data: |
    empty
  steps:
    - Нажать на кнопку "Try simple battle" на главной странице сайта
  expected-result: |
    Пользователя перебрасывает в пробную версию баттла

- summary: |
    Регистрация. Проверка успешной регистрации пользователя на сайте 
  requirement: |
    Пользователь должен иметь возможность регистрации на сайте
  prerequisites: |
    Открыта главная страница сайта https://codebattle.hexlet.io/
  test-data: |
    empty
  steps:
    - Нажать на кнопку "Sign up" в правом верхнем углу сайта
    - Заполнить nickname, свою актуальную почту, пароль
    - Нажать на кнопку "Submit"
  expected-result: |
    - Открывается форма регистрации
    - Форма заполнена 
    - Регистрация прошла успешно. В правом верхнем углу отображаются учетные данные пользователя

- summary: |
    Регистрация. Проверка регистрации пользователя на сайте с некорректными данными
  requirement: |
    Пользователь должен иметь возможность регистрации на сайте
  prerequisites: |
    Открыта главная страница сайта https://codebattle.hexlet.io/
  test-data: |
     Nickname - marina123, Email - 787878,  Password - kazan123
  steps:
    - Нажать на кнопку "Sign up" в правом верхнем углу сайта
    - Заполнить поля тестовыми данными
    - Нажать на кнопку "Submit"
  expected-result: |
    - Открывается форма регистрации
    - Форма заполнена
    - Регистрация не проходит. Пользователю отображаются сообщения об ошибках по полям ввода.

- summary: |
    Авторизация. Проверка успешной авторизации пользователя посредством ввода емейл и пароля
  requirement: |
    Пользователь должен иметь возможность авторизации любым из предложенных способов
  prerequisites: |
    Открыта главная страница сайта https://codebattle.hexlet.io/
  test-data: |
     Email - test@google.com,  Password - testtest123
  steps:
    - Нажать на кнопку "Sign in" в правом верхнем углу сайта
    - Заполнить форму тестовыми данными
    - Нажать на кнопку "Submit"
  expected-result: |
    - Открывается форма авторизации
    - Форма заполнена
    - Авторизация прошла успешно. В правом верхнем углу отображаются учетные данные пользователя

- summary: |
    Авторизация. Проверка неуспешной авторизации пользователя
  requirement: |
    Пользователь должен иметь возможность авторизации любым из предложенных способов
  prerequisites: |
    Открыта главная страница сайта https://codebattle.hexlet.io/
  test-data: |
     Email - tset@google.com,  Password - testtest123
  steps:
    - Нажать на кнопку "Sign in" в правом верхнем углу сайта
    - Заполнить поля тестовыми данными
    - Нажать на кнопку "Submit"
  expected-result: |
     - Открывается форма авторизации
     - Форма заполнена
     - Авторизация не проходит, пользователю отображается сообщение об ошибке ввода некорректных данных

- summary: |
    Авторизация. Проверка успешной авторизации пользователя посредством GitHub
  requirement: |
    Пользователь должен иметь возможность авторизации любым из предложенных способов
  prerequisites: |
    У пользователя есть аккаунт в Github. Открыта главная страница сайта https://codebattle.hexlet.io/
  test-data: |
     empty
  steps:
    - Нажать на кнопку "Sign in" в правом верхнем углу сайта
    - Нажать на кнопку "Sign in with Github"
    - Ввести данные от учетной записи GitHub 
    - Нажать на кнопку "Sign in"
  expected-result: |
    - Открывается форма авторизации
    - Пользователя перенаправило на страницу GitHub для ввода данных
    - Форма заполнена 
    - Пользователь успешно авторизован. Происходит редирект с Github на сайт CodeBattle. Отображаются учетные данные пользователя в правом верхнем углу

- summary: |
    Авторизация. Проверка некорректной авторизации пользователя посредством GitHub
  requirement: |
    Пользователь должен иметь возможность авторизации любым из предложенных способов
  prerequisites: |
    У пользователя есть аккаунт в Github. Открыта главная страница сайта https://codebattle.hexlet.io/
  test-data: |
     empty
  steps:
    - Нажать на кнопку "Sign in" в правом верхнем углу сайта
    - Нажать на кнопку "Sign in with Github"
    - Ввести невалидные данные от учетной записи GitHub 
    - Нажать на кнопку "Sign in"
  expected-result: |
    - Открывается форма авторизации
    - Пользователя перенаправило на страницу GitHub для ввода данных
    - Форма заполнена 
    - Авторизация не прошла. Пользователю отображается сообщение о вводе некорректных данных

- summary: |
    Авторизация. Проверка успешной авторизации пользователя посредством Discord
  requirement: |
    Пользователь должен иметь возможность авторизации любым из предложенных способов
  prerequisites: |
   У пользователя есть аккаунт в Discord. Открыта главная страница сайта https://codebattle.hexlet.io/
  test-data: |
     empty
  steps:
    - Нажать на кнопку "Sign in" в правом верхнем углу сайта
    - Нажать на кнопку "Sign in with Discord"
    - Ввести данные от учетной записи Discord 
    - Нажать на кнопку "Sign in", в всплывающем окне от Discord нажать кнопку "Авторизовать"
  expected-result: |
    - Открывается форма авторизации
    - Пользователя перенаправило на страницу Discord для ввода данных
    - Форма заполнена 
    - Пользователь успешно авторизован. Происходит перенаправление со страницы Discord на сайт CodeBattle. Отображаются учетные данные пользователя в правом верхнем углу

- summary: |
    Авторизация. Проверка некорректной авторизации пользователя посредством Discord
  requirement: |
    Пользователь должен иметь возможность авторизации любым из предложенных способов
  prerequisites: |
   У пользователя есть аккаунт в Discord. Открыта главная страница сайта https://codebattle.hexlet.io/
  test-data: |
     empty
  steps:
    - Нажать на кнопку "Sign in" в правом верхнем углу сайта
    - Нажать на кнопку "Sign in with Discord"
    - Ввести некорректные данные от учетной записи Discord 
    - Нажать на кнопку "Sign in"
  expected-result: |
    - Открывается форма авторизации
    - Пользователя перенаправило на страницу Discord для ввода данных
    - Форма заполнена 
    - Авторизация не прошла. Пользователю отображается сообщение о вводе некорректных данных

- summary: |
    Авторизация. Проверка восстановления доступа
  requirement: |
    Cуществует возможность восстановить данные для входа через опцию "Forgot your password?"
  prerequisites: |
    У пользователя есть аккаунт на CodeBattle. Открыта главная страница сайта https://codebattle.hexlet.io/
  test-data: |
     Email - test@google.com
  steps:
    - Нажать на кнопку "Sign in" в правом верхнем углу сайта
    - Нажать на опцию "Forgot your password?"
    - Ввести Email 
    - Нажать на кнопку "Submit"
    - В полученном письме перейти по ссылке для восстановления доступа
    - В форме для изменения пароля ввести новый пароль и нажать SAVE
  expected-result: |
    - Открывается форма авторизации
    - Открывается форма для воостановления данных
    - Email введен
    - Кнопка нажата
    - Осуществляется переход на страницу для изменения пароля
    - Пароль введен, получаем сообщение "Password changed", под обновленной учетной записью есть возможность авторизоваться

- summary: |
    Создание игр. Проверка создания игры с другим пользователем
  requirement: |
    Существует возможность создания игр и турниров
  prerequisites: |
    Имеются две учетные записи в системе.
  test-data: |
     empty
  steps:
    - Нажать на кнопку "CREATE A GAME" 
    - Выбрать любой Level, Тип игры "With other users", любой Time Control, любую Задачу
    - Нажать на кнопку "Create battle"
    - Нажать на кнопку "Сontinue" своей игры в разделе Lobby
    - Скопировать ссылку-приглашение
    - Авторизоваться под другой учеткой во вкладке Incognito
    - Перейти по скопированной ссылке во вкладке Incognito
    - Нажать кнопку "Join"
  expected-result: |
    - Открывается всплывающее окно по выбору параметров игры
    - Параметры выбраны
    - Игра создана и отображается в разделе Lobby
    - Пользователю отображается доступная ссылка для приглашения соперника
    - Ссылка скопирована
    - Пользователь авторизован
    - Отображается комната игры, кнопка Join активна
    - Открылась комната игры, доступен редактор кода

- summary: |
    Создание игр. Проверка создания игры с другом
  requirement: |
    Существует возможность создания игр и турниров
  prerequisites: |
    Пользователь авторизован
  test-data: |
     empty
  steps:
    - Нажать на кнопку "CREATE A GAME" 
    - Выбрать Level 1 звезда, Тип игры "With a friend", Time Control 8 min, Соперника, Задачу "age_to_days"
    - Нажать на кнопку "Create invite"
    - Принять приглашение с профиля пользователя, приглашенного на игру, по кнопке "Accept" в иконке Мечей
    - Убедиться, что все параметры созданной игры корректны
  expected-result: |
    - Открывается форма по выбору параметров игры
    - Параметры выбраны
    - Информация по приглашению Соперника в игру отображается в чате внизу страницы и в шапке профиля у обоих игроков, ожидается его подключение
    - Обоих игроков перенаправило в комнату для игры
    - Параметры игры корректны, соответствуют тем, что были выбраны при создании игры

- summary: |
    Создание игр. Проверка создания игры с ботом
  requirement: |
    Существует возможность создания игр и турниров
  prerequisites: |
    Пользователь авторизован
  test-data: |
     empty
  steps:
    - Нажать на кнопку "CREATE A GAME" 
    - Выбрать любой Level, Тип игры "With a bot", любой Time Control, любую Задачу
    - Нажать на кнопку "Create battle"
  expected-result: |
    - Открывается всплывающее окно по выбору параметров игры
    - Параметры выбраны
    - Осуществляется перенаправление Пользователя в комнату для игры с ботом
    
- summary: |
    Создание турнира. Проверка создания турнира
  requirement: |
    Существует возможность создания игр и турниров
  prerequisites: |
    Пользователь авторизован
  test-data: |
     empty
  steps:
    - Перейти на вкладку TOURNAMENTS
    - Нажать на опцию "You may want to create one"
    - Заполнить форму данными
    - Нажать на кнопку "Create"
    - Перейти на страницу турниров https://codebattle.hexlet.io/#tournaments
  expected-result: |
    - Открылась вкладка TOURNAMENTS
    - Открылась форма с параметрами турнира
    - Форма заполнена
    - Создалась комната по турниру. Отображается количество участников, таймер игры. Доступны кнопка "Join" и "Cancel"
    - Отображается созданный нами турнир. Опция "You may want to create one" отсутствует 

- summary: |
    Отображение. Проверка отображения элементов в комнате игры
  requirement: |
    В процессе игры отображается задание, свой редактор кода и редактор кода соперника, код соперника в режиме онлайн, таймер игры  
  prerequisites: |
    Пользователь авторизован. Есть доступная для подключения игра
  test-data: |
     empty
  steps:
    - Перейти на вкладку LOBBY
    - Присоединиться к любой доступной игре нажатием на кнопку "Fight"
    - Убедиться, что в комнате корректно отображается задание игры
    - Убедиться, что в комнате корректно отображается таймер игры
    - Убедиться, что в комнате корректно отображается редактор кода обоих игроков
    - Убедиться, что в комнате корректно отображается код соперника в онлайн-режиме
  expected-result: |
    - Открылась вкладка LOBBY
    - Пользователь перенаправлен в комнату игры
    - Задание игры отображается корректно
    - Таймер игры отображается корректно
    - Редактор кода отображается корректно
    - Код соперника отображается корректно
    
- summary: |
    Ответ. Проверка корректности ответа в игре 
  requirement: |
    Существует возможность проверить ответ на верный/неверный
  prerequisites: |
    Пользователь авторизован
  test-data: |
     empty
  steps:
    - Перейти на вкладку LOBBY
    - Присоединиться к любой доступной игре
    - Нажать на кнопку "Run" 
  expected-result: |
    - Открылась вкладка LOBBY
    - Пользователь перенаправлен в комнату для игры
    - Кнопка реагирует на нажатие, отображается информация о результатах проверки

- summary: |
    Сценарии игры. Проверка выигрыша в игре
  requirement: |
    Существуют различные исходы игры (победа, проигрыш)
  prerequisites: |
    Пользователь авторизован
  test-data: |
    empty
  steps:
    - Нажать на кнопку "CREATE A GAME"
    - Выбрать параметры с ботом, Task "rect_area", Level 1 звезда, Time Control 10min
    - Нажать на кнопку "Create Battle"
    - В редакторе кода заменить строку return 0; на return width * length;
    - Убедиться, что система выводит информацию о вас как о победителе
  expected-result: |
    - Открылась форма для выбора параметра игры
    - Форма заполнена
    - Пользователя перенаправило в комнату для игры
    - Кнопка активна, произошла проверка вашего ответа
    - Система выводит выпадающее окно с фразой "Woohoo, you're Champion!!!!!" и анимацией 

- summary: |
    Сценарии игры. Проверка проигрыша в игре
  requirement: |
    Существуют различные исходы игры (победа, проигрыш)
  prerequisites: |
    Пользователь авторизован
  test-data: |
     empty
  steps:
    - Нажать на кнопку "CREATE A GAME" 
    - Выбрать параметры с другим пользователем, Task "rect_area", Level 1 звезда, Time Control 10min
    - Нажать на кнопку "Create invite"
    - Нажать на кнопку "Сontinue" своей игры в разделе Lobby
    - Скопировать ссылку-приглашение
    - Перейти по скопированной ссылке во вкладке Incognito
    - Нажать кнопку "Join"
    - В редакторе кода заменить строку return 0; на return width * length;, нажать Run
    - Закрыть вкладку инкогнито, перейти на вкладку авторизованного пользователя
  expected-result: |
    - Открывается всплывающее окно по выбору параметров игры
    - Параметры выбраны
    - Игра создана и отображается в разделе Lobby
    - Пользователю отображается доступная ссылка для приглашения соперника
    - Ссылка скопирована
    - Отображается комната игры, кнопка Join активна
    - Открылась комната игры, доступен редактор кода
    - Отображается результат победы
    - Отображается результат проигрыша с фразой "If you read this you've lost the game" и анимацией

- summary: |
    Завершение игры. Проверка завершения игры при выходе из нее обоих участников
  requirement: |
    Игра должна завершаться при выходе из нее всех игроков
  prerequisites: |
    Пользователь авторизован
  test-data: |
     empty
  steps:
    - Нажать на кнопку "CREATE A GAME" 
    - Выбрать параметры с другим пользователем, Task "rect_area", Level 1 звезда, Time Control 3min
    - Нажать на кнопку "Create invite"
    - Нажать на кнопку "Сontinue" своей игры в разделе Lobby
    - Скопировать ссылку-приглашение
    - Перейти по скопированной ссылке во вкладке Incognito
    - Нажать кнопку "Join"
    - Нажать на кнопку "Back to Home"
    - Дождаться окончания таймера по игре 
    - Обновить страницу
  expected-result: |
    - Открывается всплывающее окно по выбору параметров игры
    - Параметры выбраны
    - Игра создана и отображается в разделе Lobby
    - Пользователю отображается доступная ссылка для приглашения соперника
    - Ссылка скопирована
    - Отображается комната игры, кнопка Join активна
    - Неавторизованный пользователь вышел из комнаты
    - Авторизованный пользователь вышел из комнаты
    - Таймер истек
    - Созданная ранее игра отображается в разделе COMPLETED GAMES

- summary: |
    Сценарии игры. Проверка возможности сдаться в игре
  requirement: |
    В процессе игры существует возможность сдаться
  prerequisites: |
    Пользователь авторизован
  test-data: |
     empty
  steps:
    - Перейти на вкладку LOBBY
    - Присоединиться к любой доступной игре
    - Нажать на красную иконку флажка "Give up"
    - Подтвердить действие по кнопке "Give up"
  expected-result: |
    - Открылась вкладка LOBBY
    - Пользователь перенаправлен в комнату для игры
    - Иконка доступна для нажатия
    - Пользователю отображается выпадающее окно с фразой "If you read this you've lost the game" и анимацией

- summary: |
    Переподключение. Проверка переподключения к игре
  requirement: |
    Пользователь должен иметь возможность переподключиться к игре
  prerequisites: |
    Пользователь авторизован
  test-data: |
     empty
  steps:
    - Перейти на вкладку LOBBY
    - Присоединиться к любой доступной игре
    - Нажать на кнопку "Back to Home"
    - Убедиться, что игра отображается на вкладке LOBBY
    - Нажать на кнопку "Continue"
  expected-result: |
    - Открылась вкладка LOBBY
    - Пользователь перенаправлен в комнату для игры
    - Кнопка активна, пользователя перенаправило на главную страницу 
    - Игра отображается на вкладке LOBBY и доступна к подключению
    - Снова открывается игровая комната, доступен редактор кода

- summary: |
    Отображение. Проверка отображения списка текущих и завершенных игр и турниров
  requirement: |
    Список текущих и завершенных игр и турниров доступен пользователю для просмотра
  prerequisites: |
    Пользователь авторизован
  test-data: |
     empty
  steps:
    - Перейти на вкладку LOBBY https://codebattle.hexlet.io/#lobby
    - Убедиться, что по ссылке отображаются игры, доступные для присоединения
    - Перейти на вкладку COMPLETED GAMES https://codebattle.hexlet.io/#completedGames
    - Убедиться, что по ссылке отображаются завершенные игры, доступные для просмотра
    - Перейти на вкладку TOURNAMENTS https://codebattle.hexlet.io/#tournaments
    - Убедиться, что по ссылке отображаются завершенные турниры и текущие (при их наличии)
  expected-result: |
    - Открылась вкладка LOBBY
    - Отображаются все доступные активные игры
    - Открылась вкладка COMPLETED GAMES
    - Отображаются все завершенные игры
    - Открылась вкладка TOURNAMENTS
    - Отображаются все завершенные турниры и текущие (при их наличии)

- summary: |
    Просмотр. Проверка просмотра завершенных игр
  requirement: |
    Пользователь должен иметь возможность просмотреть завершенные игры и турниры
  prerequisites: |
    Пользователь авторизован
  test-data: |
     empty
  steps:
    - Перейти на вкладку COMPLETED GAMES https://codebattle.hexlet.io/#completedGames
    - Выбрать любую игру для просмотра, нажав на кнопку "Show"
  expected-result: |
    - Открылась вкладка COMPLETED GAMES
    - Пользователя перебросило в комнату завершенной игры. Отображаются задание, участники, доступна функция просмотра кода соперников (хода игры)

- summary: |
    Просмотр. Проверка просмотра завершенных турниров
  requirement: |
    Пользователь должен иметь возможность просмотреть завершенные игры и турниры
  prerequisites: |
    Пользователь авторизован
  test-data: |
     empty
  steps:
    - Перейти на вкладку TOURNAMENTS https://codebattle.hexlet.io/#tournaments
    - Выбрать любой турнир для просмотра, нажав на кнопку "Show"
  expected-result: |
    - Открылась вкладка TOURNAMENTS
    - Пользователя перебросило в комнату завершенного турнира. Отображаются участники турнира, этапы игры. Доступна функция просмотра хода игры на каждом этапе по кнопке "Show"

- summary: |
    Локализация. Проверка изменения языка 
  requirement: |
    В процессе игры существует возможность изменения локализации (языков)
  prerequisites: |
    Пользователь авторизован
  test-data: |
     empty
  steps:
    - Перейти на вкладку LOBBY
    - Присоединиться к любой доступной игре
    - Нажать на иконку изменения языка в задании
    - Выбрать русский язык (RU) из выпадающего списка
  expected-result: |
    - Открылась вкладка LOBBY
    - Пользователь перенаправлен в комнату для игры
    - Отрывается выпадающий список доступных языков
    - Перевод осуществлен, условия отображаются на выбранном нами языке

- summary: |
    Адаптивность. Проверка удобства использования сайта на мобильном устройстве
  requirement: |
    Сайт должен быть удобным на мобильном устройстве
  prerequisites: |
    Пользователь авторизован. Открыта главная страница https://codebattle.hexlet.io/tournaments/#create
  test-data: |
     empty
  steps:
    - 1. Открыть https://codebattle.hexlet.io/tournaments/#create
    - 2. Открыть devtools браузера
    - 3. Выбрать устройство iPhone 12 Pro, Samsung Galaxy S8+ в адаптивном режиме отображения
  expected-result: |
    - 1. Главная страница открыта
    - 2. Devtools браузера открыт
    - 3. Адаптивный режим применен. При навигации по странице верстка выглядит корректной.

- summary: |
    Кроссбраузерность. Проверка отображения сайта в разных браузерах
  requirement: |
    Сайт должен быть протестирован на совместимость с последними версиями браузеров
  prerequisites: |
    Установлены браузеры Chrome, Firefox, Safari, Yandex.
    Открыта главная страница https://codebattle.hexlet.io
  test-data: |
    empty
  steps:
    - 1. Открыть главную страницу сайта https://codebattle.hexlet.io в Chrome
    - 2. Открыть главную страницу сайта https://codebattle.hexlet.io в Firefox
    - 3. Открыть главную страницу сайта https://codebattle.hexlet.io в Safari
    - 4. Открыть главную страницу сайта https://codebattle.hexlet.io в Yandex
  expected-result: |
    - 1. Страница открыта, интерфейс сайта отображается корректно
    - 2. Страница открыта, интерфейс сайта отображается корректно
    - 3. Страница открыта, интерфейс сайта отображается корректно
    - 4. Страница открыта, интерфейс сайта отображается корректно
    

    


    

    

    

    

    


    

    
    
    

    


    

